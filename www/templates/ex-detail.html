<!--
  This template loads for the 'tab.exercise' state (app.js)
  'left1,left2,right1,right2' are $scope variables created in the ExerciseCtrl controller (controllers.js)
  The ExerciseCtrl pulls data from the Exercise service (service.js)
  The Exercise service returns a json promise of exercise data
-->
<ion-view view-title="{{title}}">
  <ion-nav-buttons side="right">
      <button class="button button-icon ion-more" ng-click="openPopover($event)">
      </button>
  </ion-nav-buttons>
  <ion-content class="" scroll="false">
    <ion-slides  options="options" slider="data.slider">
      <ion-slide-page ng-repeat="collo in left1 track by $index" ng-init="slideIndex = $index">

        <div class="draggables container-fluid sub-header"> 
          <ul class="draggable-objects">
            <li  ng-repeat="obj in draggableObjects[slideIndex]">
              <div ng-drag="true" ng-drag-data="obj" data-allow-transform="true"> {{obj}} </div>
            </li>
          </ul>
        </div>

          <div class="row" style="margin-top:30px;">

            <div class="fixed-value col col-xs-4" ng-show="myValue[slideIndex]">
                {{left1[slideIndex]}} {{right1[slideIndex]}}
            </div>

            <div class="fixed-value col col-xs-4" ng-show="!myValue[slideIndex]">
                {{left1[slideIndex]}}
            </div>

            <div ng-show="!myValue[slideIndex]" ng-drop="true" ng-drop-success="onDropComplete1($data,$event)" class="col col-xs-8">

              <div ng-repeat="obj in droppedObjects1[slideIndex] track by $index" ng-drag="true" ng-drag-data="obj" ng-drag-success="onDragSuccess1($data,$event)" ng-center-anchor="{{centerAnchor}}">
                {{obj}}
              </div>

            </div>
          </div>

          <div class="row" style="margin-top:30px;">

            <div class="fixed-value col col-xs-4" ng-show="myValue[slideIndex]">
                {{left2[slideIndex]}} {{right2[slideIndex]}}
            </div>

            <div class="fixed-value col col-xs-4" ng-show="!myValue[slideIndex]">
                {{left2[slideIndex]}}
            </div>


            <div ng-show="!myValue[slideIndex]" ng-drop="true" ng-drop-success="onDropComplete2($data,$event)" class="col col-xs-8">

              <div ng-repeat="obj in droppedObjects2[slideIndex] track by $index" ng-drag="true" ng-drag-data="obj" ng-drag-success="onDragSuccess2($data,$event)" ng-center-anchor="{{centerAnchor}}">
                {{obj}}
              </div>

            </div>
          </div>

        <div class="bar bar-footer bar-positive" ng-show="myValue[slideIndex]">
          <div class="title">
            Correct answer!
          </div>
        </div>

        <div class="bar bar-footer" ng-show="!myValue[slideIndex]">
          <div class="title" ng-click="checkAnswer(slideIndex)" style="cursor:pointer;font-style:italic;">
            Check Answer
          </div>
        </div>
      </ion-slide-page>
    </ion-slides>
  </ion-content>
</ion-view>
